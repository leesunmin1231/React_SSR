(()=>{"use strict";var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var o in t)e.o(t,o)&&!e.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:t[o]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=require("react/jsx-runtime"),t=require("react-dom/server");var o=e.n(t);const n=require("express");var i=e.n(n);const a=require("react-router-dom/server"),s=require("path");var d=e.n(s);const c=require("fs");var l=e.n(c);const u=require("react-redux"),h=require("@emotion/react"),p=require("react-query"),m=require("@emotion/styled"),f={colors:{PRIMARY:"#5A85E3",PRIMARY_DARK:"#1F59D7",PRIMARY_LIGHT:"#B5C8F3",OFF_WHITE:"#F7F4FD",WHITE:"#FFFFFF",BLACK:"#333333",GRAY1:"#888888",GRAY2:"#BBBBBB",GRAY3:"#D7D7D7",GRAY4:"#EEEEEE",GRAY5:"#F5F5F5",RED:"#C83A68",LIGHT_BLACK:"#464646",POINT_COLOR:"#C75DE0",BACKGROUND:"#f8f9f9"}};e.n(m)().div`
  height: 100%;
  width: 100%;
  position: absolute;
`;const v=function(){return new p.QueryClient,(0,r.jsx)(h.ThemeProvider,{theme:f,children:(0,r.jsx)("div",{children:"test"})})},R=require("@reduxjs/toolkit"),y=require("axios");var A=e.n(y);const g=(0,R.createAsyncThunk)("todos/fetchTodos",(async()=>await async function(e){const r=localStorage.getItem("token");if(null===r)throw new Error("token error");return(await A().get(e,{headers:{"Content-Type":"application/json",Authorization:r}})).data.data}("http://localhost:8080/todos"))),F=(0,R.createSlice)({name:"todoList",initialState:{loading:!1,error:null,todos:[]},reducers:{addTodo:(e,r)=>({...e,todos:[...e.todos,r.payload.newTodo]})},extraReducers:e=>{e.addCase(g.pending,(e=>({...e,loading:!0,error:null}))).addCase(g.fulfilled,((e,{payload:r})=>({...e,error:null,loading:!1,todos:r}))).addCase(g.rejected,((e,{payload:r})=>({...e,error:r,loading:!1})))}}),{addTodo:T}=F.actions,E=F.reducer,j=(0,R.combineReducers)({todos:E}),q=(0,R.configureStore)({reducer:j,preloadedState:undefined});const x=(0,require("react").createContext)(null),C=JSON.parse(l().readFileSync(d().resolve("./build/asset-manifest.json"),"utf8")),w=i()(),S=i().static(d().resolve("./build"),{index:!1});w.use(S),w.use((async(e,t)=>{const n={done:!1,promises:[]},i=(0,r.jsx)(x.Provider,{value:n,children:(0,r.jsx)(u.Provider,{store:q,children:(0,r.jsx)(a.StaticRouter,{location:e.url,children:(0,r.jsx)(v,{})})})});o().renderToStaticMarkup(i);try{await Promise.all(n.promises)}catch(e){return t.status(500)}n.done=!0;const s=o().renderToString(i),d=`<script>__PRELOADED_STATE__ = ${JSON.stringify(q.getState()).replace(/</g,"\\u003c")}<\/script>`;return t.send(((e,r)=>`\n  <!DOCTYPE html>\n    <html lang="en">\n    <head>\n      <meta charset="utf-8" />\n      <link rel="shortcut icon" href="/favicon.ico" />\n      <meta\n        name="viewport"\n        content="width=device-width,initial-scale=1,shrink-to-fit=no"\n      />\n      <meta name="theme-color" content="#000000" />\n      <title>React App</title>\n    </head>\n    <body>\n      <div id="root">\n        ${e}\n      </div>\n      ${r}\n      <script src="${C.files["main.js"]}"><\/script>\n    </body>\n  </html>\n  `)(s,d))})),w.listen(3e3,(()=>{console.log("Now listening on port 3000")}))})();